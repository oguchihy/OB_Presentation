"0","#| context: server"
"0","output$survPlot <- renderPlot({"
"0","  req(input$predictor)"
"0","  strata_part <- if(input$strataVar != ""None"") paste(""+ strata("", input$strataVar, "")"", sep="""") else """""
"0","  formula <- as.formula(paste(""Surv(time, event) ~"", input$predictor, strata_part))"
"0","  fit <- coxph(formula, data = ob_data_reg)"
"0","  surv_fit <- survfit(fit)"
"0","  plot(surv_fit, col = 1:3, main = paste(""Survival Probability by"", input$predictor),"
"0","       xlab = ""Time"", ylab = ""Delivery-as-Event Probability"", mark.time = TRUE)"
"0","  if (input$strataVar != ""None"") {"
"0","    strata_levels <- levels(factor(ob_data_reg[[input$strataVar]]))"
"0","    if (!is.null(strata_levels) && length(strata_levels) > 0) {"
"0","      legend(""topright"", legend = strata_levels, col = 1:length(strata_levels), lty = 1)"
"0","    }"
"0","  }"
"0","})"
"2","Error: object 'output' not found
"
